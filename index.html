<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stoichiometry Calculator – Balance Chemical Equations, Redox, Limiting Reagent</title>
    <meta name="description" content="Free stoichiometry calculator that balances chemical equations with exact arithmetic, supports redox in acidic/basic media, computes limiting reagent, yields, and molar masses.">
    
    <!-- SEO Meta Tags -->
    <meta name="keywords" content="stoichiometry, chemical equation balancer, redox reactions, limiting reagent, molar mass, chemistry calculator">
    <meta name="author" content="Stoichiometry Calculator">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://stoichiometrycalculator.com/">
    
    <!-- Open Graph -->
    <meta property="og:title" content="Stoichiometry Calculator – Balance Chemical Equations">
    <meta property="og:description" content="Free online tool for balancing chemical equations, redox reactions, and stoichiometry calculations with exact arithmetic.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://stoichiometrycalculator.com/">
    <meta property="og:image" content="https://stoichiometrycalculator.com/og-image.jpg">
    
    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Stoichiometry Calculator">
    <meta name="twitter:description" content="Balance chemical equations and perform stoichiometry calculations online">
    <meta name="twitter:image" content="https://stoichiometrycalculator.com/twitter-image.jpg">
    
    <!-- Favicon and Icons -->
    <link rel="icon" type="image/svg+xml" href="favicon.svg">
    <link rel="alternate icon" href="favicon.ico">
    <link rel="apple-touch-icon" href="apple-touch-icon.png">
    <link rel="manifest" href="manifest.webmanifest">
    
    <!-- Preconnect for performance -->
    <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>
    
    <!-- Styles -->
    <link rel="stylesheet" href="styles.css">
    
    <!-- Emergency visibility fixes -->
    <style>
        * {
            color: #000000 !important;
            background-color: transparent !important;
        }
        body {
            background-color: #ffffff !important;
            color: #000000 !important;
        }
        .header {
            background-color: #ffffff !important;
            color: #000000 !important;
        }
        .title-main {
            color: #1d4ed8 !important;
        }
        .title-sub {
            color: #374151 !important;
        }
        .header-nav a {
            color: #374151 !important;
        }
        .section-title {
            color: #000000 !important;
        }
        .input-label {
            color: #000000 !important;
        }
        .label-help {
            color: #4b5563 !important;
        }
        .equation-input {
            background-color: #ffffff !important;
            color: #000000 !important;
            border: 2px solid #374151 !important;
        }
        .btn {
            color: #ffffff !important;
        }
        .btn-primary {
            background-color: #1d4ed8 !important;
            color: #ffffff !important;
        }
        .btn-secondary {
            background-color: #f3f4f6 !important;
            color: #000000 !important;
        }
        .card {
            background-color: #ffffff !important;
        }
        p, div, span, label {
            color: #000000 !important;
        }
    </style>
    
    <!-- Structured Data -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "SoftwareApplication",
        "name": "Stoichiometry Calculator",
        "applicationCategory": "Educational Software",
        "operatingSystem": "Web Browser",
        "description": "Free online stoichiometry calculator for balancing chemical equations, redox reactions, and calculating limiting reagents with exact arithmetic precision.",
        "url": "https://stoichiometrycalculator.com/",
        "author": {
            "@type": "Organization",
            "name": "Stoichiometry Calculator"
        },
        "offers": {
            "@type": "Offer",
            "price": "0",
            "priceCurrency": "USD"
        },
        "featureList": [
            "Chemical equation balancing",
            "Redox reaction balancing",
            "Limiting reagent calculations", 
            "Molar mass calculations",
            "Exact fraction arithmetic",
            "Isotope support"
        ]
    }
    </script>
    
    <!-- FAQ Structured Data -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "FAQPage",
        "mainEntity": [
            {
                "@type": "Question",
                "name": "How does the chemical equation balancer work?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "Our balancer uses matrix algebra with exact fraction arithmetic to find the smallest positive integer coefficients. It builds a stoichiometric matrix and computes the nullspace to ensure conservation of mass and charge."
                }
            },
            {
                "@type": "Question", 
                "name": "Can it balance redox reactions?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "Yes, the calculator supports redox reactions in both acidic and basic media. It automatically adds H⁺, OH⁻, H₂O, and electrons as needed, ensuring electron balance in the final equation."
                }
            },
            {
                "@type": "Question",
                "name": "What is a limiting reagent?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "The limiting reagent is the reactant that is completely consumed first in a reaction, determining the maximum amount of products that can be formed. Our calculator identifies it and computes theoretical yields."
                }
            },
            {
                "@type": "Question",
                "name": "Does it support hydrates and isotopes?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "Yes, the parser handles hydrates (e.g., CuSO₄·5H₂O) and isotope notation (e.g., [¹³C]₆H₁₂O₆). Molar mass calculations use exact isotope masses when specified."
                }
            },
            {
                "@type": "Question",
                "name": "How are charges handled?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "The calculator recognizes multiple charge notations: Fe²⁺, SO₄²⁻, or Fe^2+. Charge conservation is automatically enforced during balancing."
                }
            },
            {
                "@type": "Question",
                "name": "Is the arithmetic exact?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "Yes, all calculations use exact fraction arithmetic to avoid floating-point rounding errors, ensuring mathematically precise results every time."
                }
            }
        ]
    }
    </script>
</head>

<body>
    <!-- Skip Navigation -->
    <a href="#main-content" class="skip-nav">Skip to main content</a>
    
    <!-- Header -->
    <header class="header" role="banner">
        <div class="container">
            <div class="header-content">
                <h1 class="site-title">
                    <span class="title-main">Stoichiometry Calculator</span>
                    <span class="title-sub">Balance Chemical Equations with Precision</span>
                </h1>
                <nav class="header-nav" role="navigation" aria-label="Main navigation">
                    <ul>
                        <li><a href="#calculator">Calculator</a></li>
                        <li><a href="#faq">FAQ</a></li>
                        <li><a href="privacy.html">Privacy</a></li>
                        <li><a href="terms.html">Terms</a></li>
                    </ul>
                </nav>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main id="main-content" class="main" role="main">
        <div class="container">
            
            <!-- Calculator Section -->
            <section id="calculator" class="calculator-section" aria-labelledby="calc-heading">
                <h2 id="calc-heading" class="section-title">Chemical Equation Balancer</h2>
                
                <div class="calculator-grid">
                    <!-- Input Panel -->
                    <div class="input-panel card" role="form" aria-labelledby="input-heading">
                        <h3 id="input-heading">Enter Equation</h3>
                        
                        <div class="input-group">
                            <label for="equation-input" class="input-label">
                                Chemical Equation
                                <span class="label-help">Enter using → or ->, separate species with +</span>
                            </label>
                            <input 
                                type="text" 
                                id="equation-input" 
                                class="equation-input" 
                                placeholder="Fe2+ + Cr2O7^2- + H+ → Fe3+ + Cr3+ + H2O"
                                aria-describedby="equation-help"
                                autocomplete="off"
                                spellcheck="false"
                            >
                            <div id="equation-help" class="input-help">
                                Examples: C₃H₈ + O₂ → CO₂ + H₂O, MnO₄⁻ + I⁻ → MnO₂ + I₂
                            </div>
                        </div>
                        
                        <div class="mode-group" role="radiogroup" aria-labelledby="mode-label">
                            <span id="mode-label" class="mode-label">Balancing Mode</span>
                            <label class="mode-option">
                                <input type="radio" name="mode" value="standard" checked aria-describedby="standard-help">
                                <span class="mode-text">Standard</span>
                            </label>
                            <label class="mode-option">
                                <input type="radio" name="mode" value="acidic" aria-describedby="acidic-help">
                                <span class="mode-text">Redox (Acidic)</span>
                            </label>
                            <label class="mode-option">
                                <input type="radio" name="mode" value="basic" aria-describedby="basic-help">
                                <span class="mode-text">Redox (Basic)</span>
                            </label>
                        </div>
                        
                        <div class="button-group">
                            <button type="button" id="balance-btn" class="btn btn-primary">
                                <span class="btn-text">Balance</span>
                                <span class="btn-shortcut">Enter</span>
                            </button>
                            <button type="button" id="clear-btn" class="btn btn-secondary">
                                <span class="btn-text">Clear</span>
                                <span class="btn-shortcut">Esc</span>
                            </button>
                            <div class="dropdown">
                                <button type="button" id="examples-btn" class="btn btn-outline" aria-expanded="false" aria-haspopup="true">
                                    Examples ▼
                                </button>
                                <ul class="dropdown-menu" role="menu" aria-labelledby="examples-btn">
                                    <li><button type="button" role="menuitem" data-example="combustion">Combustion: C₃H₈ + O₂ → CO₂ + H₂O</button></li>
                                    <li><button type="button" role="menuitem" data-example="redox-acidic">Redox Acidic: MnO₄⁻ + Fe²⁺ + H⁺ → Mn²⁺ + Fe³⁺ + H₂O</button></li>
                                    <li><button type="button" role="menuitem" data-example="redox-basic">Redox Basic: MnO₄⁻ + I⁻ → MnO₂ + I₂</button></li>
                                    <li><button type="button" role="menuitem" data-example="hydrate">Hydrate: CuSO₄·5H₂O + NH₃ → Cu(NH₃)₄SO₄ + H₂O</button></li>
                                    <li><button type="button" role="menuitem" data-example="isotope">Isotope: [¹³C]₆H₁₂O₆ + O₂ → ¹³CO₂ + H₂O</button></li>
                                    <li><button type="button" role="menuitem" data-example="complex">Complex: K₂Cr₂O₇ + HCl → KCl + CrCl₃ + Cl₂ + H₂O</button></li>
                                </ul>
                            </div>
                        </div>
                        
                        <!-- Status Messages -->
                        <div id="status-messages" class="status-messages" aria-live="polite" aria-atomic="true"></div>
                    </div>

                    <!-- Results Panel -->
                    <div class="results-panel card" role="region" aria-labelledby="results-heading">
                        <h3 id="results-heading">Balanced Equation</h3>
                        
                        <div id="equation-result" class="equation-result" aria-live="polite">
                            <div class="result-placeholder">
                                Enter a chemical equation above and click "Balance" to see the result.
                            </div>
                        </div>
                        
                        <div id="result-actions" class="result-actions" style="display: none;">
                            <button type="button" id="copy-btn" class="btn btn-outline">
                                📋 Copy Equation
                            </button>
                        </div>
                        
                        <!-- Details Accordion -->
                        <details id="balance-details" class="details-accordion">
                            <summary class="details-summary">
                                <span>Show Calculation Details</span>
                                <span class="details-icon">▼</span>
                            </summary>
                            <div class="details-content">
                                <div id="matrix-display" class="matrix-display"></div>
                                <div id="solution-steps" class="solution-steps"></div>
                            </div>
                        </details>
                    </div>
                </div>
            </section>

            <!-- Stoichiometry Tools -->
            <section id="stoichiometry" class="stoich-section" aria-labelledby="stoich-heading" style="display: none;">
                <h2 id="stoich-heading" class="section-title">Stoichiometry Calculations</h2>
                
                <div class="stoich-grid">
                    <div class="stoich-input card" role="form" aria-labelledby="stoich-input-heading">
                        <h3 id="stoich-input-heading">Given Amounts</h3>
                        <div id="amount-inputs" class="amount-inputs">
                            <!-- Dynamic inputs will be generated here -->
                        </div>
                        <button type="button" id="calculate-stoich" class="btn btn-primary">Calculate</button>
                    </div>
                    
                    <div class="stoich-results card" role="region" aria-labelledby="stoich-results-heading">
                        <h3 id="stoich-results-heading">Results</h3>
                        <div id="stoich-output" class="stoich-output"></div>
                    </div>
                </div>
            </section>

            <!-- FAQ Section -->
            <section id="faq" class="faq-section" aria-labelledby="faq-heading">
                <h2 id="faq-heading" class="section-title">Frequently Asked Questions</h2>
                
                <div class="faq-grid">
                    <details class="faq-item">
                        <summary class="faq-question">How does the chemical equation balancer work?</summary>
                        <div class="faq-answer">
                            <p>Our balancer uses matrix algebra with exact fraction arithmetic to find the smallest positive integer coefficients. It builds a stoichiometric matrix where each row represents an element and each column represents a chemical species. The algorithm then computes the nullspace of this matrix to find coefficients that ensure conservation of mass and charge.</p>
                        </div>
                    </details>
                    
                    <details class="faq-item">
                        <summary class="faq-question">Can it balance redox reactions?</summary>
                        <div class="faq-answer">
                            <p>Yes, the calculator supports redox reactions in both acidic and basic media. Select "Redox (Acidic)" to allow H⁺ and H₂O, or "Redox (Basic)" for OH⁻ and H₂O. The balancer automatically adds these species as needed and ensures electron balance in the final equation.</p>
                        </div>
                    </details>
                    
                    <details class="faq-item">
                        <summary class="faq-question">What is a limiting reagent?</summary>
                        <div class="faq-answer">
                            <p>The limiting reagent is the reactant that is completely consumed first in a reaction, determining the maximum amount of products that can be formed. Our stoichiometry calculator identifies the limiting reagent and computes theoretical yields and leftover amounts for all species.</p>
                        </div>
                    </details>
                    
                    <details class="faq-item">
                        <summary class="faq-question">Does it support hydrates and isotopes?</summary>
                        <div class="faq-answer">
                            <p>Yes, the parser handles hydrate notation (e.g., CuSO₄·5H₂O) and isotope bracketing (e.g., [¹³C]₆H₁₂O₆). For molar mass calculations, exact isotope masses are used when isotopes are specified, providing precise results for research applications.</p>
                        </div>
                    </details>
                    
                    <details class="faq-item">
                        <summary class="faq-question">How are charges handled?</summary>
                        <div class="faq-answer">
                            <p>The calculator recognizes multiple charge notations: Fe²⁺, SO₄²⁻, Fe^2+, or SO4^2-. Charge conservation is automatically enforced during balancing by including a charge row in the stoichiometric matrix.</p>
                        </div>
                    </details>
                    
                    <details class="faq-item">
                        <summary class="faq-question">Is the arithmetic exact?</summary>
                        <div class="faq-answer">
                            <p>Yes, all calculations use exact fraction arithmetic to avoid floating-point rounding errors. This ensures mathematically precise results and guarantees the smallest possible integer coefficients in balanced equations.</p>
                        </div>
                    </details>
                </div>
            </section>
        </div>
    </main>

    <!-- Footer -->
    <footer class="footer" role="contentinfo">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>About Stoichiometry Calculator</h3>
                    <p>A free, open-source tool for balancing chemical equations with mathematical precision. Built for students, educators, and researchers who need accurate stoichiometry calculations without compromising on exactness.</p>
                    
                    <p>Our advanced algorithm uses matrix algebra over exact fractions to ensure perfect mass and charge conservation. Whether you're working with simple combustion reactions or complex redox processes in acidic or basic media, get reliable results every time.</p>
                    
                    <p>Features include support for isotopes, hydrates, complex ions, and automated limiting reagent analysis. The calculator handles edge cases that trip up other tools, making it ideal for advanced chemistry coursework and research applications.</p>
                </div>
                
                <div class="footer-section">
                    <h3>Quick Links</h3>
                    <ul class="footer-links">
                        <li><a href="#calculator">Calculator</a></li>
                        <li><a href="#faq">FAQ</a></li>
                        <li><a href="privacy.html">Privacy Policy</a></li>
                        <li><a href="terms.html">Terms of Service</a></li>
                        <li><a href="mailto:contact@stoichiometrycalculator.com">Contact</a></li>
                    </ul>
                </div>
                
                <div class="footer-section">
                    <h3>Technical Details</h3>
                    <p>Built with vanilla JavaScript for maximum performance and compatibility. No external dependencies, works offline, and respects your privacy with no tracking or data collection.</p>
                    <p class="updated">Last updated: <time datetime="2025-09-25">September 25, 2025</time></p>
                </div>
            </div>
            
            <div class="footer-bottom">
                <p>&copy; 2025 Stoichiometry Calculator. Open source software for educational use.</p>
            </div>
        </div>
    </footer>

    <!-- Scripts -->
    <!-- Load chemistry modules first -->
    <script src="chem/fractions.js"></script>
    <script src="chem/lexer.js"></script>
    <script src="chem/parser.js"></script>
    <script src="chem/linear.js"></script>
    <script src="chem/balancer.js"></script>
    <script src="chem/redox.js"></script>
    <script src="chem/mass.js"></script>
    <script src="chem/oxidation-states.js"></script>
    
    <!-- Load main app -->
    <script src="app.js"></script>
    
    <!-- Analytics Hook (Optional) -->
    <script>
        // Initialize event emitter for analytics
        window.scEvents = {
            emit: function(event, data) {
                // Custom analytics can hook into this
                console.log('Analytics event:', event, data);
                
                // Google Analytics integration (if gtag is loaded)
                if (typeof gtag !== 'undefined') {
                    gtag('event', event, data);
                }
            }
        };
    </script>
</body>
</html>